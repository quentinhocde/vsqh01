(function(){"use strict";(function(R){const k=".vsqh01-1-slider{display:block;position:relative;width:100vw;height:100vh;inset:0;z-index:1;font-family:'Instrument Serif',serif;&:not(.is-init){cursor:wait !important}}.vsqh01-1-slider_track{position:absolute;width:100vw;height:100vh;display:grid;place-items:center;overflow:hidden;color:white;background-color:black}.vsqh01-1-slider_list{perspective:1500px;aspect-ratio:9/16;opacity:0;transition:opacity 1s ease-out;.vsqh01-1-slider.is-init &{opacity:1}@media (orientation:landscape){height:75vh}@media (orientation:portrait){height:75vw}}.vsqh01-1-slider_card{position:absolute;inset:0;border-radius:12px;overflow:hidden;will-change:transform;backface-visibility:hidden;contain:layout paint;transform-style:preserve-3d;img{width:100%;height:100%;object-fit:cover}&::after{content:'';position:absolute;inset:0;opacity:0;background-color:black;opacity:calc(1 - var(--relativeProgress))}}.vsqh01-1-drag-proxy{visibility:hidden;position:absolute;inset:0}";function E(){if(typeof document>"u"||document.getElementById("vsqh01-1-styles"))return;const e=document.createElement("style");e.id="vsqh01-1-styles",e.textContent=k,document.head.appendChild(e)}function z(e,a,i){let r=Math.ceil(1/a),u=e.length*a+.5,h=(e.length+r)*a+1,g=gsap.timeline({paused:!0}),v=gsap.timeline({paused:!0,repeat:-1,onRepeat(){this._time===this._dur&&(this._tTime+=this._dur-.01)}}),b=e.length+r*2,c,o,m;for(o=0;o<b;o++)m=o%e.length,c=o*a,g.add(i(e[m],m),c),o<=e.length&&v.add("label"+o,c);g.time(u);let q=Math.min(r*a+1,u-.01);return v.to(g,{time:h,duration:h-u,ease:"none"}).fromTo(g,{time:q},{time:u,duration:u-q,immediateRender:!1,ease:"none"}),v}function I(e){const a=e.map(i=>(i.src=i.dataset.src,!i||i.complete?Promise.resolve():new Promise(r=>{const u=()=>r();i.addEventListener("load",u,{once:!0}),i.addEventListener("error",u,{once:!0})})));return Promise.all(a)}function _(e){if(gsap.registerPlugin(ScrollTrigger,Draggable),!e.querySelector(".vsqh01-1-drag-proxy")){const t=document.createElement("div");t.className="vsqh01-1-drag-proxy",e.appendChild(t)}let a=0;const i=.18,r=e,u=e.querySelector(".vsqh01-1-slider_track"),h=gsap.utils.toArray(e.querySelectorAll(".vsqh01-1-slider_card")),g=gsap.utils.toArray(e.querySelectorAll(".vsqh01-1-slider_card img")),v=gsap.utils.snap(i),b=typeof r.dataset.disableMagnet=="string",c=typeof r.dataset.disableFullscreen=="string",o=typeof r.dataset.scrollRatio=="string"?parseFloat(r.dataset.scrollRatio):1,m=typeof r.dataset.dragRatio=="string"?parseFloat(r.dataset.dragRatio):1;async function q(){await I(g),T=!0,r.classList.add("is-init")}function M(t,l){const d=gsap.timeline();gsap.set(t,{rotateY:-90,rotateX:-10,xPercent:200,z:"100vw",zIndex:100,"--relativeProgress":0}),d.fromTo(t,{xPercent:200},{xPercent:-200,duration:1,ease:"power1.inOut",immediateRender:!1});const y=gsap.timeline();y.to(t,{rotateY:0,rotateX:0,"--relativeProgress":1,duration:.45,ease:"power1.in"}).to(t,{rotateY:-70,rotateX:10,"--relativeProgress":0,duration:.45,ease:"power1.out"},.55),d.add(y,0);const L=gsap.timeline();return L.set(t,{z:"100vw",zIndex:100}).to(t,{z:0,zIndex:0,duration:.5,ease:"power1.out"},0).to(t,{z:"-50vw",zIndex:-50,duration:.5,ease:"power1.in"},.5),d.add(L,0),d}const f=z(h,i,M),P={offset:0},A=gsap.utils.wrap(0,f.duration());let p=0;const s=gsap.to(P,{offset:0,onUpdate(){f.time(A(P.offset))},duration:.4,ease:"power3",paused:!0});function O(t){let l=n.end-n.start;return gsap.utils.clamp(n.start+1,n.end-1,n.start+gsap.utils.wrap(0,1,t)*l)}function x(t,l){a+=t,n.scroll(l),n.update()}function S(t){let l=v(t);if(c){p=l-n.progress*f.duration()*o,s.vars.offset=l,s.invalidate().restart();return}p=0;let d=l/(f.duration()*o)-a,y=O(d);if(d>=1||d<0)return x(Math.floor(d),y);s.vars.offset=l,s.invalidate().restart(),n.scroll(y),n.update()}let T=!1;const n=ScrollTrigger.create({trigger:u,start:c?"top bottom":"top top",end:c?"bottom top":`+=${h.length*1e3}`,pin:c?!1:r,onUpdate(t){if(T)if(c)s.vars.offset=t.progress*f.duration()*o+p,s.invalidate().restart();else{let l=t.scroll()-t.start,d=t.end-t.start;l>d-1?x(1,t.start+1):l<1&&t.direction<0?x(-1,t.start+d-2):(s.vars.offset=(a+t.progress)*f.duration()*o+p,s.invalidate().restart())}}});return!c&&!b&&ScrollTrigger.addEventListener("scrollEnd",()=>{T&&S(s.vars.offset)}),Draggable.create(e.querySelector(".vsqh01-1-drag-proxy"),{type:"x",trigger:r,onPress(){this.startOffset=p},onDrag(){const t=(this.startX-this.x)*.001*m;p=this.startOffset+t,c?s.vars.offset=n.progress*f.duration()*o+p:s.vars.offset=(a+n.progress)*f.duration()*o+p,s.invalidate().restart()},onDragEnd(){b||S(s.vars.offset)}}),q(),{next:()=>S(s.vars.offset+i),prev:()=>S(s.vars.offset-i)}}function D(){const e=[];return typeof gsap>"u"&&e.push("GSAP"),typeof ScrollTrigger>"u"&&e.push("ScrollTrigger"),typeof Draggable>"u"&&e.push("Draggable"),e.length?(console.error("VSQH01_1: Missing: "+e.join(", ")),!1):!0}function w(){D()&&(E(),document.querySelectorAll(".vsqh01-1-slider").forEach(e=>{e._vsqh01_1||(e._vsqh01_1=_(e))}))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",w):setTimeout(w,0),R.VSQH01_1={init:w,initSlider:_}})(typeof window<"u"?window:void 0)})();
