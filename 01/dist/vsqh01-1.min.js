(function(){"use strict";(function(O){const D=".vsqh01-1-slider{display:block;position:relative;width:100vw;height:100vh;top:0;bottom:0;right:0;left:0;z-index:1;font-family:'Instrument Serif',serif;ul,li{padding:0;margin:0}ul{list-style:none}}.vsqh01-1-slider_track{position:absolute;width:100vw;height:100vh;display:grid;place-items:center;overflow:hidden;color:white;background-color:black}.vsqh01-1-slider_list,.vsqh01-1-slider_content{opacity:0;transition:opacity 1s ease-out;.vsqh01-1-slider.is-init &{opacity:1}}.vsqh01-1-slider_list{padding:0;margin:0;position:absolute;aspect-ratio:9/16;top:50%;left:50%;transform:translate3d(-50%,-50%,0);@media (orientation:landscape){height:60vh;perspective:100vw}@media (orientation:portrait){height:60vw;perspective:100vh}li{list-style:none;padding:0;margin:0;position:absolute;inset:0;background-size:cover;background-repeat:no-repeat;background-position:center center;border-radius:12px;overflow:hidden;will-change:transform;backface-visibility:hidden;&::after{content:'';position:absolute;inset:0;background-color:black;opacity:calc(1 - var(--relativeProgress))}}}.vsqh01-1-actions{position:absolute;bottom:25px;left:50%;transform:translateX(-50%);display:flex;align-items:center;justify-content:center;gap:1rem;display:none}.vsqh01-1-drag-proxy{visibility:hidden;position:absolute;inset:0}.vsqh01-1-slider_content{position:absolute;bottom:40px;left:40px;white-space:nowrap;font-size:8vw;perspective:100vw;li{line-height:1;backface-visibility:hidden;will-change:transform;transform-style:preserve-3d;&:not(:first-child){position:absolute;bottom:0;left:0;right:0}}}";function P(){if(typeof document>"u"||document.getElementById("vsqh01-1-styles"))return;const t=document.createElement("style");t.id="vsqh01-1-styles",t.textContent=D,document.head.appendChild(t)}function A(t,n,c){let u=Math.ceil(1/n),l=t.length*n+.5,v=(t.length+u)*n+1,f=gsap.timeline({paused:!0}),p=gsap.timeline({paused:!0,repeat:-1,onRepeat(){this._time===this._dur&&(this._tTime+=this._dur-.01)}}),g=t.length+u*2,m,d,s;for(d=0;d<g;d++)s=d%t.length,m=d*n,f.add(c(t[s],s),m),d<=t.length&&p.add("label"+d,m);return f.time(l),p.to(f,{time:v,duration:v-l,ease:"none"}).fromTo(f,{time:u*n+1},{time:l,duration:l-(u*n+1),immediateRender:!1,ease:"none"}),p}function T(t){var L,E;if(gsap.registerPlugin(ScrollTrigger,Draggable),!t.querySelector(".vsqh01-1-drag-proxy")){const e=document.createElement("div");e.className="vsqh01-1-drag-proxy",t.appendChild(e)}let n=0;const c=.18,u=t.querySelector(".vsqh01-1-slider_track"),l=t,v=gsap.utils.snap(c),f=gsap.utils.toArray(t.querySelectorAll(".vsqh01-1-slider_list li")),p=gsap.utils.toArray(t.querySelectorAll(".vsqh01-1-slider_content li")),g=typeof l.dataset.disableFullscreen=="string",m=p[0].offsetHeight;function d(e,a){const o=gsap.timeline();o.fromTo(e,{xPercent:200},{xPercent:-200,duration:1,ease:"power1.inOut",immediateRender:!1});const b=gsap.timeline();b.set(e,{rotateY:-90}).to(e,{rotateY:0,"--relativeProgress":1,duration:.5,ease:"power1.in"}).to(e,{rotateY:-70,"--relativeProgress":0,duration:.5,ease:"power1.out"}),o.add(b,0);const q=gsap.timeline();q.set(e,{z:"100vw",zIndex:100}).to(e,{z:0,zIndex:0,duration:.5,ease:"power2.out"},0).to(e,{z:"-50vw",zIndex:-50,duration:.5,ease:"power2.in"},.5),o.add(q,0);const z=gsap.timeline();return z.set(p[a],{rotationX:-90,transformOrigin:`center center ${-m/3}px`}).to(p[a],{rotationX:90,duration:.3,ease:"none"},.35),o.add(z,0),o}const s=A(f,c,d),_={offset:0},I=gsap.utils.wrap(0,s.duration());let y=0;const r=gsap.to(_,{offset:0,onUpdate(){s.time(I(_.offset))},duration:.4,ease:"power3",paused:!0});function M(e){let a=i.end-i.start;return gsap.utils.clamp(i.start+1,i.end-1,i.start+gsap.utils.wrap(0,1,e)*a)}function w(e,a){n+=e,i.scroll(a),i.update()}function h(e){if(g){let q=v(e);y=q-i.progress*s.duration(),r.vars.offset=q,r.invalidate().restart();return}let a=v(e),o=(a-s.duration()*n)/s.duration(),b=M(o);if(o>=1||o<0)return w(Math.floor(o),b);r.vars.offset=(n+i.progress)*s.duration(),r.invalidate().restart(),i.scroll(b),i.update()}let S=!1,i=null;g?i=ScrollTrigger.create({trigger:u,start:"top bottom",end:"bottom top",onUpdate(e){if(!S){k();return}r.vars.offset=e.progress*s.duration()+y,r.invalidate().restart()}}):(i=ScrollTrigger.create({trigger:u,start:"top top",onUpdate(e){if(!S){k();return}let a=e.scroll()-e.start,o=e.end-e.start;a>o-1?w(1,e.start+1):a<1&&e.direction<0?w(-1,e.start+o-2):(r.vars.offset=(n+e.progress)*s.duration(),r.invalidate().restart())},end:`+=${f.length*1e3}`,pin:l}),ScrollTrigger.addEventListener("scrollEnd",()=>{S&&h(r.vars.offset)}));function k(){S=!0,gsap.delayedCall(.3,()=>{l.classList.add("is-init")})}return(L=t.querySelector(".next"))==null||L.addEventListener("click",()=>h(r.vars.offset+c)),(E=t.querySelector(".prev"))==null||E.addEventListener("click",()=>h(r.vars.offset-c)),Draggable.create(t.querySelector(".vsqh01-1-drag-proxy"),{type:"x",trigger:l,onPress(){this.startOffset=g?y:r.vars.offset},onDrag(){const e=(this.startX-this.x)*.001;g?(y=this.startOffset+e,r.vars.offset=i.progress*s.duration()+y):r.vars.offset=this.startOffset+e,r.invalidate().restart()},onDragEnd(){h(r.vars.offset)}}),{next:()=>h(r.vars.offset+c),prev:()=>h(r.vars.offset-c)}}function C(){const t=[];return typeof gsap>"u"&&t.push("GSAP"),typeof ScrollTrigger>"u"&&t.push("ScrollTrigger"),typeof Draggable>"u"&&t.push("Draggable"),t.length?(console.error("VSQH01_1: Missing: "+t.join(", ")),!1):!0}function x(){C()&&(P(),document.querySelectorAll(".vsqh01-1-slider").forEach(t=>{t._vsqh01_1||(t._vsqh01_1=T(t))}))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",x):setTimeout(x,0),O.VSQH01_1={init:x,initSlider:T}})(typeof window<"u"?window:void 0)})();
