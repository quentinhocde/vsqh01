(function(){"use strict";(function(D){const E=".vsqh01-1-slider{display:block;position:relative;width:100vw;height:100vh;top:0;bottom:0;right:0;left:0;z-index:1;font-family:'Instrument Serif',serif;ul,li{padding:0;margin:0}ul{list-style:none}}.vsqh01-1-slider_track{position:absolute;width:100vw;height:100vh;display:grid;place-items:center;overflow:hidden;color:white;background-color:black}.vsqh01-1-slider_list,.vsqh01-1-slider_content{opacity:0;transition:opacity 1s ease-out;.vsqh01-1-slider.is-init &{opacity:1}}.vsqh01-1-slider_list{padding:0;margin:0;position:absolute;aspect-ratio:9/16;top:50%;left:50%;transform:translate3d(-50%,-50%,0);@media (orientation:landscape){height:60vh;perspective:100vw}@media (orientation:portrait){height:60vw;perspective:100vh}li{list-style:none;padding:0;margin:0;position:absolute;inset:0;background-size:cover;background-repeat:no-repeat;background-position:center center;border-radius:12px;overflow:hidden;will-change:transform;backface-visibility:hidden;&::after{content:'';position:absolute;inset:0;background-color:black;opacity:calc(1 - var(--relativeProgress))}}}.vsqh01-1-actions{position:absolute;bottom:25px;left:50%;transform:translateX(-50%);display:flex;align-items:center;justify-content:center;gap:1rem;display:none}.vsqh01-1-drag-proxy{visibility:hidden;position:absolute;inset:0}.vsqh01-1-slider_content{position:absolute;bottom:40px;left:40px;font-size:8vw;perspective:100vw;li{line-height:1;backface-visibility:hidden;will-change:transform;transform-style:preserve-3d;&:not(:first-child){position:absolute;bottom:0;left:0;right:0}}}";function z(){if(typeof document>"u"||document.getElementById("vsqh01-1-styles"))return;const e=document.createElement("style");e.id="vsqh01-1-styles",e.textContent=E,document.head.appendChild(e)}function I(e,o,n){let d=Math.ceil(1/o),i=e.length*o+.5,f=(e.length+d)*o+1,a=gsap.timeline({paused:!0}),u=gsap.timeline({paused:!0,repeat:-1,onRepeat(){this._time===this._dur&&(this._tTime+=this._dur-.01)}}),b=e.length+d*2,c,s,p;for(s=0;s<b;s++)p=s%e.length,c=s*o,a.add(n(e[p],p),c),s<=e.length&&u.add("label"+s,c);return a.time(i),u.to(a,{time:f,duration:f-i,ease:"none"}).fromTo(a,{time:d*o+1},{time:i,duration:i-(d*o+1),immediateRender:!1,ease:"none"}),u}function S(e){var x,_;if(gsap.registerPlugin(ScrollTrigger,Draggable),!e.querySelector(".vsqh01-1-drag-proxy")){const t=document.createElement("div");t.className="vsqh01-1-drag-proxy",e.appendChild(t)}let o=0;const n=.18,d=document.querySelector(".vsqh01-1-slider_track"),i=document.querySelector(".vsqh01-1-slider");gsap.utils.snap(n);const f=gsap.utils.toArray(e.querySelectorAll(".vsqh01-1-slider_list li")),a=gsap.utils.toArray(e.querySelectorAll(".vsqh01-1-slider_content li")),u=typeof i.dataset.disableScroll=="string",b=typeof i.dataset.disableDrag=="string",c=typeof i.dataset.disableFullscreen=="string",s=a[0].offsetHeight;function p(t,h){const l=gsap.timeline();l.fromTo(t,{xPercent:200},{xPercent:-200,duration:1,ease:"power1.inOut",immediateRender:!1});const k=gsap.timeline();k.set(t,{rotateY:-90}).to(t,{rotateY:0,"--relativeProgress":1,duration:.5,ease:"power1.in"}).to(t,{rotateY:-70,"--relativeProgress":0,duration:.5,ease:"power1.out"}),l.add(k,0);const O=gsap.timeline();O.set(t,{z:"100vw",zIndex:100}).to(t,{z:0,zIndex:0,duration:.5,ease:"power2.out"},0).to(t,{z:"-50vw",zIndex:-50,duration:.5,ease:"power2.in"},.5),l.add(O,0);const L=gsap.timeline();return L.set(a[h],{rotationX:-90,transformOrigin:`center center ${-s/3}px`}).to(a[h],{rotationX:90,duration:.3,ease:"none"},.35),l.add(L,0),l}const g=I(f,n,p),T={offset:0},A=gsap.utils.wrap(0,g.duration());let v=0;const r=gsap.to(T,{offset:0,onUpdate(){g.time(A(T.offset))},duration:.4,ease:"power3",paused:!0});let m=!1,q=null;c?q=ScrollTrigger.create({trigger:d,start:"top bottom",end:"bottom top",onUpdate(t){if(!m){w();return}r.vars.offset=t.progress*g.duration()+v,r.invalidate().restart()}}):(q=ScrollTrigger.create({trigger:d,start:"top top",onUpdate(t){if(!m){w();return}let h=t.scroll()-t.start,l=t.end-t.start;h>l-1?shiftScrollIteration(1,t.start+1):h<1&&t.direction<0?shiftScrollIteration(-1,t.start+l-2):(r.vars.offset=(o+t.progress)*g.duration(),r.invalidate().restart())},end:`+=${f.length*1e3}`,pin:i}),ScrollTrigger.addEventListener("scrollEnd",()=>{m&&scrollToOffset(r.vars.offset)}),u&&i.addEventListener("wheel",t=>{t.preventDefault()},{passive:!1}));function w(){m=!0,gsap.delayedCall(.3,()=>{i.classList.add("is-init")})}return(x=e.querySelector(".next"))==null||x.addEventListener("click",()=>scrollToOffset(r.vars.offset+n)),(_=e.querySelector(".prev"))==null||_.addEventListener("click",()=>scrollToOffset(r.vars.offset-n)),b||Draggable.create(e.querySelector(".vsqh01-1-drag-proxy"),{type:"x",trigger:i,onPress(){this.startOffset=c?v:r.vars.offset},onDrag(){const t=(this.startX-this.x)*.001;c?(v=this.startOffset+t,r.vars.offset=q.progress*g.duration()+v):r.vars.offset=this.startOffset+t,r.invalidate().restart()},onDragEnd(){scrollToOffset(r.vars.offset)}}),{next:()=>scrollToOffset(r.vars.offset+n),prev:()=>scrollToOffset(r.vars.offset-n)}}function P(){const e=[];return typeof gsap>"u"&&e.push("GSAP"),typeof ScrollTrigger>"u"&&e.push("ScrollTrigger"),typeof Draggable>"u"&&e.push("Draggable"),e.length?(console.error("VSQH01_1: Missing: "+e.join(", ")),!1):!0}function y(){P()&&(z(),document.querySelectorAll(".vsqh01-1-slider_wrap").forEach(e=>{e._vsqh01_1||(e._vsqh01_1=S(e))}))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",y):setTimeout(y,0),D.VSQH01_1={init:y,initSlider:S}})(typeof window<"u"?window:void 0)})();
