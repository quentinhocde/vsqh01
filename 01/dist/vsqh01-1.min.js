(function(){"use strict";(function(L){const E=".vsqh01-1-slider{display:block;position:relative;width:100vw;height:100vh;top:0;bottom:0;right:0;left:0;z-index:1;font-family:'Instrument Serif',serif;ul,li{padding:0;margin:0}ul{list-style:none}}.vsqh01-1-slider_track{position:absolute;width:100vw;height:100vh;display:grid;place-items:center;overflow:hidden;color:white;background-color:black}.vsqh01-1-slider_list,.vsqh01-1-slider_content{opacity:0;transition:opacity 1s ease-out;.vsqh01-1-slider.is-init &{opacity:1}}.vsqh01-1-slider_list{padding:0;margin:0;position:absolute;aspect-ratio:9/16;top:50%;left:50%;transform:translate3d(-50%,-50%,0);@media (orientation:landscape){height:60vh;perspective:100vw}@media (orientation:portrait){height:60vw;perspective:100vh}li{list-style:none;padding:0;margin:0;position:absolute;inset:0;background-size:cover;background-repeat:no-repeat;background-position:center center;border-radius:12px;overflow:hidden;will-change:transform;backface-visibility:hidden;&::after{content:'';position:absolute;inset:0;background-color:black;opacity:calc(1 - var(--relativeProgress))}}}.vsqh01-1-actions{position:absolute;bottom:25px;left:50%;transform:translateX(-50%);display:flex;align-items:center;justify-content:center;gap:1rem;display:none}.vsqh01-1-drag-proxy{visibility:hidden;position:absolute;inset:0}.vsqh01-1-slider_content{position:absolute;bottom:40px;left:40px;font-size:8vw;perspective:100vw;li{line-height:1;backface-visibility:hidden;will-change:transform;transform-style:preserve-3d;&:not(:first-child){position:absolute;bottom:0;left:0;right:0}}}";function z(){if(typeof document>"u"||document.getElementById("vsqh01-1-styles"))return;const e=document.createElement("style");e.id="vsqh01-1-styles",e.textContent=E,document.head.appendChild(e)}function D(e,s,a){let p=Math.ceil(1/s),l=e.length*s+.5,m=(e.length+p)*s+1,d=gsap.timeline({paused:!0}),c=gsap.timeline({paused:!0,repeat:-1,onRepeat(){this._time===this._dur&&(this._tTime+=this._dur-.01)}}),b=e.length+p*2,h,i,f;for(i=0;i<b;i++)f=i%e.length,h=i*s,d.add(a(e[f],f),h),i<=e.length&&c.add("label"+i,h);return d.time(l),c.to(d,{time:m,duration:m-l,ease:"none"}).fromTo(d,{time:p*s+1},{time:l,duration:l-(p*s+1),immediateRender:!1,ease:"none"}),c}function x(e){var w,T;if(gsap.registerPlugin(ScrollTrigger,Draggable),!e.querySelector(".vsqh01-1-drag-proxy")){const t=document.createElement("div");t.className="vsqh01-1-drag-proxy",e.appendChild(t)}let s=0;const a=.18,p=document.querySelector(".vsqh01-1-slider_track"),l=document.querySelector(".vsqh01-1-slider"),m=gsap.utils.snap(a),d=gsap.utils.toArray(e.querySelectorAll(".vsqh01-1-slider_list li")),c=gsap.utils.toArray(e.querySelectorAll(".vsqh01-1-slider_content li")),b=c[0].offsetHeight;function h(t,n){const o=gsap.timeline();o.fromTo(t,{xPercent:200},{xPercent:-200,duration:1,ease:"power1.inOut",immediateRender:!1});const v=gsap.timeline();v.set(t,{rotateY:-90}).to(t,{rotateY:0,"--relativeProgress":1,duration:.5,ease:"power1.in"}).to(t,{rotateY:-70,"--relativeProgress":0,duration:.5,ease:"power1.out"}),o.add(v,0);const _=gsap.timeline();_.set(t,{z:"100vw",zIndex:100}).to(t,{z:0,zIndex:0,duration:.5,ease:"power2.out"},0).to(t,{z:"-50vw",zIndex:-50,duration:.5,ease:"power2.in"},.5),o.add(_,0);const k=gsap.timeline();return k.set(c[n],{rotationX:-90,transformOrigin:`center center ${-b/3}px`}).to(c[n],{rotationX:90,duration:.3,ease:"none"},.35),o.add(k,0),o}const i=D(d,a,h),f={offset:0},A=gsap.utils.wrap(0,i.duration()),r=gsap.to(f,{offset:0,onUpdate(){i.time(A(f.offset))},duration:.4,ease:"power3",paused:!0});let q=!1;const u=ScrollTrigger.create({trigger:p,start:"top top",onUpdate(t){if(!q){I();return}let n=t.scroll()-t.start,o=t.end-t.start;n>o-1?S(1,t.start+1):n<1&&t.direction<0?S(-1,t.start+o-2):(r.vars.offset=(s+t.progress)*i.duration(),r.invalidate().restart())},end:`+=${d.length*1e3}`,pin:l});function C(t){return gsap.utils.clamp(1,u.end-1,gsap.utils.wrap(0,1,t)*u.end)}function S(t,n){s+=t,u.scroll(n),u.update()}function g(t){let n=m(t),o=(n-i.duration()*s)/i.duration(),v=C(o);if(o>=1||o<0)return S(Math.floor(o),v);r.vars.offset=(s+u.progress)*i.duration(),r.invalidate().restart(),u.scroll(v),u.update()}ScrollTrigger.addEventListener("scrollEnd",()=>{q&&g(r.vars.offset)});function I(){q=!0,gsap.delayedCall(.3,()=>{l.classList.add("is-init")})}return(w=e.querySelector(".next"))==null||w.addEventListener("click",()=>g(r.vars.offset+a)),(T=e.querySelector(".prev"))==null||T.addEventListener("click",()=>g(r.vars.offset-a)),Draggable.create(e.querySelector(".vsqh01-1-drag-proxy"),{type:"x",trigger:l,onPress(){this.startOffset=r.vars.offset},onDrag(){r.vars.offset=this.startOffset+(this.startX-this.x)*.001,r.invalidate().restart()},onDragEnd(){g(r.vars.offset)}}),{next:()=>g(r.vars.offset+a),prev:()=>g(r.vars.offset-a)}}function P(){const e=[];return typeof gsap>"u"&&e.push("GSAP"),typeof ScrollTrigger>"u"&&e.push("ScrollTrigger"),typeof Draggable>"u"&&e.push("Draggable"),typeof SplitText>"u"&&e.push("SplitText"),e.length?(console.error("VSQH01_1: Missing: "+e.join(", ")),!1):!0}function y(){P()&&(z(),document.querySelectorAll(".vsqh01-1-slider_wrap").forEach(e=>{e._vsqh01_1||(e._vsqh01_1=x(e))}))}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",y):setTimeout(y,0),L.VSQH01_1={init:y,initSlider:x}})(typeof window<"u"?window:void 0)})();
